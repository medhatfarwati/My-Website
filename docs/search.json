[
  {
    "objectID": "study 2 analyses.html",
    "href": "study 2 analyses.html",
    "title": "Overview",
    "section": "",
    "text": "This page presents the analyses for Study 2, focusing on statistical tests and visualizations based on the NHANES dataset.\nResearch Aim for Study 2: To investigate whether BMI (key predictor) predicts LDL (quantitative outcome) while (possibly) adjusting for gender, marital status, and race/ethnicity as covariates\n\n\n\nWe followed the same steps in Study 1 to arrive at “clean_data” first\n\n# Load necessary libraries\nlibrary(tidyverse)\nlibrary(broom)\n\n# Ensure clean data is loaded\nclean_data &lt;- readRDS(\"data/clean_data.Rds\")\n\nThen, we will filter to include only complete cases in our predictor (BMI) and outcome (LDL), this will create “complete_data”\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create a new dataset with complete cases for BMI and LDL\ncomplete_data &lt;- clean_data %&gt;%\n  filter(!is.na(BMI) & !is.na(LDL))\n\n# Save the new dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(complete_data, \"data/complete_data.Rds\")\n\n# View summary of the new dataset\nsummary(complete_data)\n\n     SEQN              gender                race_ethnicity\n Length:3541        Male  :1698   Mexican American  : 466  \n Class :character   Female:1843   Other Hispanic    : 377  \n Mode  :character                 Non-Hispanic White:1119  \n                                  Non-Hispanic Black: 920  \n                                  Other Race        : 659  \n                                                           \n                     marital_status      LDL             BMI       \n Married_Living with Partner:2130   Min.   :  7.0   Min.   :15.40  \n Widowed_Divorced_Separated : 730   1st Qu.: 85.0   1st Qu.:24.90  \n Never_married              : 681   Median :107.0   Median :28.70  \n                                    Mean   :109.7   Mean   :30.11  \n                                    3rd Qu.:131.0   3rd Qu.:33.90  \n                                    Max.   :357.0   Max.   :92.30  \n      obesity    \n Non-obese:2019  \n Obese    :1522  \n                 \n                 \n                 \n                 \n\n\n#CODEBOOK:\nSame as codebook for Study 1\n\n\n\n\nlibrary(tidyverse)\n\nset.seed(1992) \n\ntraining_sample &lt;- complete_data |&gt; slice_sample(prop = 0.75)\n\ntest_sample &lt;- \n    anti_join(complete_data, training_sample, by = \"SEQN\")\n\nWe will visualize our outcome as follows:\n\n # Load necessary libraries\nlibrary(tidyverse)\nlibrary(patchwork)\n\n# Ensure Dataset Exists\nif (!exists(\"training_sample\")) {\n  training_sample &lt;- readRDS(\"data/training_sample.Rds\")\n}\n\n# 1. Histogram of LDL\nhistogram_LDL &lt;- ggplot(training_sample, aes(x = LDL)) +\n  geom_histogram(binwidth = 10, fill = \"skyblue\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"LDL Distribution (Original Scale)\",\n    x = \"LDL (mg/dL)\",\n    y = \"Count\"\n  ) +\n  theme_minimal()\n\n# Print Histogram\nprint(histogram_LDL)\n\n\n\n\n\n\n\n# 2. Boxplot of LDL\nboxplot_LDL &lt;- ggplot(training_sample, aes(y = LDL)) +\n  geom_boxplot(fill = \"lightgreen\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"LDL Boxplot (Original Scale)\",\n    y = \"LDL (mg/dL)\"\n  ) +\n  theme_minimal()\n\n# Print Boxplot\nprint(boxplot_LDL)\n\n\n\n\n\n\n\n# 3. Q-Q Plot for Normality\nqqnorm(training_sample$LDL, main = \"Q-Q Plot of LDL\")\nqqline(training_sample$LDL, col = \"red\")\n\n\n\n\n\n\n\n\nThe histogram and Q-Q plot suggest non-normality in the LDL distribution. To address this, we will apply a log-transformation and visualize the data as follows:\n\n# Add a log-transformed LDL column to the training sample\ntraining_sample &lt;- training_sample %&gt;%\n  mutate(log_LDL = log(LDL))\n\n# Histogram of Log-Transformed LDL\nggplot(training_sample, aes(x = log_LDL)) +\n  geom_histogram(binwidth = 0.2, fill = \"lightblue\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"Log-Transformed LDL Distribution\",\n    x = \"Log(LDL)\",\n    y = \"Count\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nAs we can see, this improved symmetry and reduced the influence of outliers, wo we will proceed with the log transformed LDL.\n\n\n\nWe will fit two models: A full model with all predictors (BMI, gender, marital_status, race_ethnicity), we will name it m1. A subset model with only the key predictor (BMI), we will name it m2.\n\nFull Model (m1)\n\n\n# Full Model: Log-Transformed LDL with All Predictors\nm1 &lt;- lm(log_LDL ~ BMI + gender + marital_status + race_ethnicity, data = training_sample)\n\n# Summary of the Full Model\nsummary(m1)\n\n\nCall:\nlm(formula = log_LDL ~ BMI + gender + marital_status + race_ethnicity, \n    data = training_sample)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.68713 -0.19569  0.03022  0.23409  1.25856 \n\nCoefficients:\n                                           Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)                               4.6334457  0.0336438 137.720   &lt;2e-16\nBMI                                       0.0008868  0.0009112   0.973   0.3306\ngenderFemale                              0.0070611  0.0135291   0.522   0.6018\nmarital_statusWidowed_Divorced_Separated  0.0228639  0.0174785   1.308   0.1909\nmarital_statusNever_married              -0.0437133  0.0179487  -2.435   0.0149\nrace_ethnicityOther Hispanic              0.0029447  0.0274109   0.107   0.9145\nrace_ethnicityNon-Hispanic White         -0.0254990  0.0219254  -1.163   0.2449\nrace_ethnicityNon-Hispanic Black         -0.0485559  0.0228034  -2.129   0.0333\nrace_ethnicityOther Race                 -0.0071108  0.0239790  -0.297   0.7668\n                                            \n(Intercept)                              ***\nBMI                                         \ngenderFemale                                \nmarital_statusWidowed_Divorced_Separated    \nmarital_statusNever_married              *  \nrace_ethnicityOther Hispanic                \nrace_ethnicityNon-Hispanic White            \nrace_ethnicityNon-Hispanic Black         *  \nrace_ethnicityOther Race                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.3437 on 2646 degrees of freedom\nMultiple R-squared:  0.007685,  Adjusted R-squared:  0.004685 \nF-statistic: 2.561 on 8 and 2646 DF,  p-value: 0.008807\n\n\n\nSubset model (m2):\n\n\n# Subset Model: Log-Transformed LDL with Only BMI\nm2 &lt;- lm(log_LDL ~ BMI, data = training_sample)\n\n# Summary of the Subset Model\nsummary(m2)\n\n\nCall:\nlm(formula = log_LDL ~ BMI, data = training_sample)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.69165 -0.19811  0.03102  0.23488  1.23874 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 4.6206191  0.0275319 167.828   &lt;2e-16 ***\nBMI         0.0005986  0.0008901   0.673    0.501    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.3445 on 2653 degrees of freedom\nMultiple R-squared:  0.0001705, Adjusted R-squared:  -0.0002064 \nF-statistic: 0.4523 on 1 and 2653 DF,  p-value: 0.5013\n\n\n\n\n\nDiagnostic plot for m1:\n\n# Diagnostic Plots for Full Model\npar(mfrow = c(2, 2))\nplot(m1, main = \"Diagnostics: Full Model (Log-Transformed LDL)\")\n\n\n\n\n\n\n\n\nDiagnostic plot for m2:\n\n# Diagnostic Plots for Subset Model\npar(mfrow = c(2, 2))\nplot(m2, main = \"Diagnostics: Subset Model (Log-Transformed LDL)\")\n\n\n\n\n\n\n\n\n\nIn-sample assessment of m1 and m2:\n\n\n# Load library for performance comparison\nlibrary(performance)\n\n# Compare In-Sample Performance\ncompare_performance(m1, m2)\n\n# Comparison of Model Performance Indices\n\nName | Model |  AIC (weights) | AICc (weights) |  BIC (weights) |        R2 |  R2 (adj.) |  RMSE | Sigma\n--------------------------------------------------------------------------------------------------------\nm1   |    lm | 1874.6 (0.953) | 1874.6 (0.952) | 1933.4 (&lt;.001) |     0.008 |      0.005 | 0.343 | 0.344\nm2   |    lm | 1880.6 (0.047) | 1880.6 (0.048) | 1898.2 (&gt;.999) | 1.705e-04 | -2.064e-04 | 0.344 | 0.345\n\n\nInterpretation:\nThe in-sample comparison shows that m1 (full model) has a slightly better fit compared to m2 (subset model with only BMI) based on lower AIC (1874.6 vs. 1880.6) and slightly lower RMSE (0.343 vs. 0.344). However, the R² values for both models are extremely low (0.008 for m1 and near zero for m2), indicating that neither model explains much variance in log-transformed LDL. The adjusted R² values further confirm this lack of predictive power for both models.\n\nHoldout assessment of m1 and m2:\n\n\n# Generate Predictions on Test Sample\npred_m1 &lt;- predict(m1, newdata = test_sample)\npred_m2 &lt;- predict(m2, newdata = test_sample)\n\n# Back-transform Predictions (Exponentiate to Original LDL Scale)\npred_m1_backtransformed &lt;- exp(pred_m1)\npred_m2_backtransformed &lt;- exp(pred_m2)\n\n# Calculate RMSE and R-Squared for Each Model\nlibrary(Metrics)\n\n\nAttaching package: 'Metrics'\n\n\nThe following objects are masked from 'package:performance':\n\n    mae, mse, rmse\n\n# RMSE\nrmse_m1 &lt;- rmse(test_sample$LDL, pred_m1_backtransformed)\nrmse_m2 &lt;- rmse(test_sample$LDL, pred_m2_backtransformed)\n\n# R-Squared\nrsq_m1 &lt;- cor(test_sample$LDL, pred_m1_backtransformed)^2\nrsq_m2 &lt;- cor(test_sample$LDL, pred_m2_backtransformed)^2\n\n# Display Results\ndata.frame(\n  Model = c(\"Full Model (m1)\", \"Subset Model (m2)\"),\n  RMSE = c(rmse_m1, rmse_m2),\n  R_Squared = c(rsq_m1, rsq_m2)\n)\n\n              Model     RMSE    R_Squared\n1   Full Model (m1) 36.29244 1.414005e-03\n2 Subset Model (m2) 36.27355 3.881285e-05\n\n\nInterpretation:\nIn the test sample, both m1 (full model) and m2 (subset model with BMI only) perform similarly, with nearly identical RMSE values (36.29 for m1 vs. 36.27 for m2), indicating comparable predictive accuracy. However, the R² values for both models are extremely low (0.0014 for m1 and 0.00004 for m2), suggesting that neither model effectively predicts LDL in the holdout sample. This highlights that both models explain virtually no variance in LDL, even after accounting for the predictors.\n\n\n\nGiven the results above:\n\nBoth models (m1 and m2) show similarly poor predictive performance in both the in-sample and holdout sample evaluations.\nWe will choolse the simpler model (m2), which includes only BMI because it performs almost identically to m1 but avoids the complexity of including additional predictors that do not improve prediction.\n\n\n\n\nUsing m2 (BMI-only model), the results suggest that BMI is not a strong predictor of LDL levels. The near-zero R² value indicates that BMI alone explains an extremely small proportion of the variability in LDL. This implies that other unmeasured factors may play a larger role in determining LDL levels.\n\n\n\n\nLow Variance Explained: Both models (m1 and m2) explain almost no variability in LDL levels (R² ≈ 0).\nMissing Predictors: Important factors like diet, physical activity, and medication use were not included, potentially driving LDL variability.\nMeasurement Errors: BMI or LDL measurements may contain inaccuracies affecting the model’s fit.\nPopulation Homogeneity: The dataset may lack diversity, limiting the model’s ability to generalize.\n\n\n\n\n\nExpand Predictors: Incorporate variables like diet, physical activity, and family history.\nExplore Nonlinear Models: Investigate interactions and non-linear effects to better capture relationships.\nValidation: Test the model on an independent dataset for better generalizability."
  },
  {
    "objectID": "study 2 analyses.html#a.-data-cleaning-and-preparation",
    "href": "study 2 analyses.html#a.-data-cleaning-and-preparation",
    "title": "Overview",
    "section": "",
    "text": "We followed the same steps in Study 1 to arrive at “clean_data” first\n\n# Load necessary libraries\nlibrary(tidyverse)\nlibrary(broom)\n\n# Ensure clean data is loaded\nclean_data &lt;- readRDS(\"data/clean_data.Rds\")\n\nThen, we will filter to include only complete cases in our predictor (BMI) and outcome (LDL), this will create “complete_data”\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create a new dataset with complete cases for BMI and LDL\ncomplete_data &lt;- clean_data %&gt;%\n  filter(!is.na(BMI) & !is.na(LDL))\n\n# Save the new dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(complete_data, \"data/complete_data.Rds\")\n\n# View summary of the new dataset\nsummary(complete_data)\n\n     SEQN              gender                race_ethnicity\n Length:3541        Male  :1698   Mexican American  : 466  \n Class :character   Female:1843   Other Hispanic    : 377  \n Mode  :character                 Non-Hispanic White:1119  \n                                  Non-Hispanic Black: 920  \n                                  Other Race        : 659  \n                                                           \n                     marital_status      LDL             BMI       \n Married_Living with Partner:2130   Min.   :  7.0   Min.   :15.40  \n Widowed_Divorced_Separated : 730   1st Qu.: 85.0   1st Qu.:24.90  \n Never_married              : 681   Median :107.0   Median :28.70  \n                                    Mean   :109.7   Mean   :30.11  \n                                    3rd Qu.:131.0   3rd Qu.:33.90  \n                                    Max.   :357.0   Max.   :92.30  \n      obesity    \n Non-obese:2019  \n Obese    :1522  \n                 \n                 \n                 \n                 \n\n\n#CODEBOOK:\nSame as codebook for Study 1"
  },
  {
    "objectID": "study 2 analyses.html#b.-analysis",
    "href": "study 2 analyses.html#b.-analysis",
    "title": "Overview",
    "section": "",
    "text": "library(tidyverse)\n\nset.seed(1992) \n\ntraining_sample &lt;- complete_data |&gt; slice_sample(prop = 0.75)\n\ntest_sample &lt;- \n    anti_join(complete_data, training_sample, by = \"SEQN\")\n\nWe will visualize our outcome as follows:\n\n # Load necessary libraries\nlibrary(tidyverse)\nlibrary(patchwork)\n\n# Ensure Dataset Exists\nif (!exists(\"training_sample\")) {\n  training_sample &lt;- readRDS(\"data/training_sample.Rds\")\n}\n\n# 1. Histogram of LDL\nhistogram_LDL &lt;- ggplot(training_sample, aes(x = LDL)) +\n  geom_histogram(binwidth = 10, fill = \"skyblue\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"LDL Distribution (Original Scale)\",\n    x = \"LDL (mg/dL)\",\n    y = \"Count\"\n  ) +\n  theme_minimal()\n\n# Print Histogram\nprint(histogram_LDL)\n\n\n\n\n\n\n\n# 2. Boxplot of LDL\nboxplot_LDL &lt;- ggplot(training_sample, aes(y = LDL)) +\n  geom_boxplot(fill = \"lightgreen\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"LDL Boxplot (Original Scale)\",\n    y = \"LDL (mg/dL)\"\n  ) +\n  theme_minimal()\n\n# Print Boxplot\nprint(boxplot_LDL)\n\n\n\n\n\n\n\n# 3. Q-Q Plot for Normality\nqqnorm(training_sample$LDL, main = \"Q-Q Plot of LDL\")\nqqline(training_sample$LDL, col = \"red\")\n\n\n\n\n\n\n\n\nThe histogram and Q-Q plot suggest non-normality in the LDL distribution. To address this, we will apply a log-transformation and visualize the data as follows:\n\n# Add a log-transformed LDL column to the training sample\ntraining_sample &lt;- training_sample %&gt;%\n  mutate(log_LDL = log(LDL))\n\n# Histogram of Log-Transformed LDL\nggplot(training_sample, aes(x = log_LDL)) +\n  geom_histogram(binwidth = 0.2, fill = \"lightblue\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"Log-Transformed LDL Distribution\",\n    x = \"Log(LDL)\",\n    y = \"Count\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nAs we can see, this improved symmetry and reduced the influence of outliers, wo we will proceed with the log transformed LDL."
  },
  {
    "objectID": "study 2 analyses.html#c.-model-fitting",
    "href": "study 2 analyses.html#c.-model-fitting",
    "title": "Overview",
    "section": "",
    "text": "We will fit two models: A full model with all predictors (BMI, gender, marital_status, race_ethnicity), we will name it m1. A subset model with only the key predictor (BMI), we will name it m2.\n\nFull Model (m1)\n\n\n# Full Model: Log-Transformed LDL with All Predictors\nm1 &lt;- lm(log_LDL ~ BMI + gender + marital_status + race_ethnicity, data = training_sample)\n\n# Summary of the Full Model\nsummary(m1)\n\n\nCall:\nlm(formula = log_LDL ~ BMI + gender + marital_status + race_ethnicity, \n    data = training_sample)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.68713 -0.19569  0.03022  0.23409  1.25856 \n\nCoefficients:\n                                           Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)                               4.6334457  0.0336438 137.720   &lt;2e-16\nBMI                                       0.0008868  0.0009112   0.973   0.3306\ngenderFemale                              0.0070611  0.0135291   0.522   0.6018\nmarital_statusWidowed_Divorced_Separated  0.0228639  0.0174785   1.308   0.1909\nmarital_statusNever_married              -0.0437133  0.0179487  -2.435   0.0149\nrace_ethnicityOther Hispanic              0.0029447  0.0274109   0.107   0.9145\nrace_ethnicityNon-Hispanic White         -0.0254990  0.0219254  -1.163   0.2449\nrace_ethnicityNon-Hispanic Black         -0.0485559  0.0228034  -2.129   0.0333\nrace_ethnicityOther Race                 -0.0071108  0.0239790  -0.297   0.7668\n                                            \n(Intercept)                              ***\nBMI                                         \ngenderFemale                                \nmarital_statusWidowed_Divorced_Separated    \nmarital_statusNever_married              *  \nrace_ethnicityOther Hispanic                \nrace_ethnicityNon-Hispanic White            \nrace_ethnicityNon-Hispanic Black         *  \nrace_ethnicityOther Race                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.3437 on 2646 degrees of freedom\nMultiple R-squared:  0.007685,  Adjusted R-squared:  0.004685 \nF-statistic: 2.561 on 8 and 2646 DF,  p-value: 0.008807\n\n\n\nSubset model (m2):\n\n\n# Subset Model: Log-Transformed LDL with Only BMI\nm2 &lt;- lm(log_LDL ~ BMI, data = training_sample)\n\n# Summary of the Subset Model\nsummary(m2)\n\n\nCall:\nlm(formula = log_LDL ~ BMI, data = training_sample)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.69165 -0.19811  0.03102  0.23488  1.23874 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 4.6206191  0.0275319 167.828   &lt;2e-16 ***\nBMI         0.0005986  0.0008901   0.673    0.501    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.3445 on 2653 degrees of freedom\nMultiple R-squared:  0.0001705, Adjusted R-squared:  -0.0002064 \nF-statistic: 0.4523 on 1 and 2653 DF,  p-value: 0.5013"
  },
  {
    "objectID": "study 2 analyses.html#d.-model-assessment-and-comparison",
    "href": "study 2 analyses.html#d.-model-assessment-and-comparison",
    "title": "Overview",
    "section": "",
    "text": "Diagnostic plot for m1:\n\n# Diagnostic Plots for Full Model\npar(mfrow = c(2, 2))\nplot(m1, main = \"Diagnostics: Full Model (Log-Transformed LDL)\")\n\n\n\n\n\n\n\n\nDiagnostic plot for m2:\n\n# Diagnostic Plots for Subset Model\npar(mfrow = c(2, 2))\nplot(m2, main = \"Diagnostics: Subset Model (Log-Transformed LDL)\")\n\n\n\n\n\n\n\n\n\nIn-sample assessment of m1 and m2:\n\n\n# Load library for performance comparison\nlibrary(performance)\n\n# Compare In-Sample Performance\ncompare_performance(m1, m2)\n\n# Comparison of Model Performance Indices\n\nName | Model |  AIC (weights) | AICc (weights) |  BIC (weights) |        R2 |  R2 (adj.) |  RMSE | Sigma\n--------------------------------------------------------------------------------------------------------\nm1   |    lm | 1874.6 (0.953) | 1874.6 (0.952) | 1933.4 (&lt;.001) |     0.008 |      0.005 | 0.343 | 0.344\nm2   |    lm | 1880.6 (0.047) | 1880.6 (0.048) | 1898.2 (&gt;.999) | 1.705e-04 | -2.064e-04 | 0.344 | 0.345\n\n\nInterpretation:\nThe in-sample comparison shows that m1 (full model) has a slightly better fit compared to m2 (subset model with only BMI) based on lower AIC (1874.6 vs. 1880.6) and slightly lower RMSE (0.343 vs. 0.344). However, the R² values for both models are extremely low (0.008 for m1 and near zero for m2), indicating that neither model explains much variance in log-transformed LDL. The adjusted R² values further confirm this lack of predictive power for both models.\n\nHoldout assessment of m1 and m2:\n\n\n# Generate Predictions on Test Sample\npred_m1 &lt;- predict(m1, newdata = test_sample)\npred_m2 &lt;- predict(m2, newdata = test_sample)\n\n# Back-transform Predictions (Exponentiate to Original LDL Scale)\npred_m1_backtransformed &lt;- exp(pred_m1)\npred_m2_backtransformed &lt;- exp(pred_m2)\n\n# Calculate RMSE and R-Squared for Each Model\nlibrary(Metrics)\n\n\nAttaching package: 'Metrics'\n\n\nThe following objects are masked from 'package:performance':\n\n    mae, mse, rmse\n\n# RMSE\nrmse_m1 &lt;- rmse(test_sample$LDL, pred_m1_backtransformed)\nrmse_m2 &lt;- rmse(test_sample$LDL, pred_m2_backtransformed)\n\n# R-Squared\nrsq_m1 &lt;- cor(test_sample$LDL, pred_m1_backtransformed)^2\nrsq_m2 &lt;- cor(test_sample$LDL, pred_m2_backtransformed)^2\n\n# Display Results\ndata.frame(\n  Model = c(\"Full Model (m1)\", \"Subset Model (m2)\"),\n  RMSE = c(rmse_m1, rmse_m2),\n  R_Squared = c(rsq_m1, rsq_m2)\n)\n\n              Model     RMSE    R_Squared\n1   Full Model (m1) 36.29244 1.414005e-03\n2 Subset Model (m2) 36.27355 3.881285e-05\n\n\nInterpretation:\nIn the test sample, both m1 (full model) and m2 (subset model with BMI only) perform similarly, with nearly identical RMSE values (36.29 for m1 vs. 36.27 for m2), indicating comparable predictive accuracy. However, the R² values for both models are extremely low (0.0014 for m1 and 0.00004 for m2), suggesting that neither model effectively predicts LDL in the holdout sample. This highlights that both models explain virtually no variance in LDL, even after accounting for the predictors."
  },
  {
    "objectID": "study 2 analyses.html#e.-model-selection",
    "href": "study 2 analyses.html#e.-model-selection",
    "title": "Overview",
    "section": "",
    "text": "Given the results above:\n\nBoth models (m1 and m2) show similarly poor predictive performance in both the in-sample and holdout sample evaluations.\nWe will choolse the simpler model (m2), which includes only BMI because it performs almost identically to m1 but avoids the complexity of including additional predictors that do not improve prediction."
  },
  {
    "objectID": "study 2 analyses.html#f.-answering-the-research-question",
    "href": "study 2 analyses.html#f.-answering-the-research-question",
    "title": "Overview",
    "section": "",
    "text": "Using m2 (BMI-only model), the results suggest that BMI is not a strong predictor of LDL levels. The near-zero R² value indicates that BMI alone explains an extremely small proportion of the variability in LDL. This implies that other unmeasured factors may play a larger role in determining LDL levels."
  },
  {
    "objectID": "study 2 analyses.html#g.-study-limitations",
    "href": "study 2 analyses.html#g.-study-limitations",
    "title": "Overview",
    "section": "",
    "text": "Low Variance Explained: Both models (m1 and m2) explain almost no variability in LDL levels (R² ≈ 0).\nMissing Predictors: Important factors like diet, physical activity, and medication use were not included, potentially driving LDL variability.\nMeasurement Errors: BMI or LDL measurements may contain inaccuracies affecting the model’s fit.\nPopulation Homogeneity: The dataset may lack diversity, limiting the model’s ability to generalize."
  },
  {
    "objectID": "study 2 analyses.html#h.-next-steps",
    "href": "study 2 analyses.html#h.-next-steps",
    "title": "Overview",
    "section": "",
    "text": "Expand Predictors: Incorporate variables like diet, physical activity, and family history.\nExplore Nonlinear Models: Investigate interactions and non-linear effects to better capture relationships.\nValidation: Test the model on an independent dataset for better generalizability."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Welcome to Medhat Farwati’s Website",
    "section": "",
    "text": "Welcome to Medhat Farwati’s Website\n\nThe purpose of this website is to showcase my work in data analysis, research, and clinical insights. It highlights projects from CRSP 431 Project B and future projects related to cardiology and medical research.\nFeel free to explore the site for updates on ongoing projects, analyses, and research findings."
  },
  {
    "objectID": "draft.html",
    "href": "draft.html",
    "title": "Draft",
    "section": "",
    "text": "#Analysis 1: Compare Two Means/Medians Using Independent Samples\nResearch Question: Is there a difference in mean LDL-C between males and females?\nWe will use the following code (graph first, then t-test):\n{r}  # Load necessary libraries library(tidyverse)  # Create Boxplot with Smaller and More Subtle Dots ggplot(clean_data, aes(x = gender, y = LDL, fill = gender)) +   geom_boxplot(alpha = 0.7, outlier.color = \"red\", outlier.size = 2) +   geom_jitter(aes(color = gender), width = 0.1, alpha = 0.2, size = 1) +   scale_fill_brewer(palette = \"Set2\") +   scale_color_brewer(palette = \"Set2\") +   labs(     title = \"LDL Cholesterol by Gender\",     x = \"Gender\",     y = \"LDL Cholesterol (mg/dL)\"   ) +   theme_minimal() +   theme(     plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),     axis.title = element_text(size = 14),     axis.text.x = element_text(size = 12),     axis.text.y = element_text(size = 12),     legend.position = \"none\"   )}\n{r}  # Descriptive Summary by Gender summary_stats &lt;- clean_data %&gt;%   group_by(gender) %&gt;%   summarise(     mean_LDL = mean(LDL, na.rm = TRUE),     sd_LDL = sd(LDL, na.rm = TRUE),     median_LDL = median(LDL, na.rm = TRUE),     n = n()   ) print(summary_stats)  # Perform Independent Samples t-test with 90% CI t_test_results &lt;- t.test(LDL ~ gender, data = clean_data,                           var.equal = FALSE, conf.level = 0.90)  # Print t-test Results print(t_test_results)  # Extract and Print the 90% Confidence Interval conf_interval &lt;- t_test_results$conf.int message(\"90% Confidence Interval for the Difference in Means: \",          round(conf_interval[1], 2), \" to \", round(conf_interval[2], 2))}\nAs we can see from the graph and t-test, there is no significant difference in mean LDL between males and females.\n#Analysis 2: Compare 3-6 Means/Medians Using Independent Samples\nIs there a difference in mean LDL-C according to marital status?\nWe will use the following code (graph first, then ANOVA):\n{r} # Load necessary libraries library(tidyverse)  # Create Boxplot with Smaller and More Subtle Dots ggplot(clean_data, aes(x = marital_status, y = LDL, fill = marital_status)) +   geom_boxplot(alpha = 0.7, outlier.color = \"red\", outlier.size = 2) +   geom_jitter(aes(color = marital_status), width = 0.1, alpha = 0.2, size = 1) +   scale_fill_brewer(palette = \"Set2\") +   scale_color_brewer(palette = \"Set2\") +   labs(     title = \"LDL Cholesterol by Marital Status\",     x = \"Marital Status\",     y = \"LDL Cholesterol (mg/dL)\"   ) +   theme_minimal() +   theme(     plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),     axis.title = element_text(size = 14),     axis.text.x = element_text(size = 10, angle = 25, hjust = 1),     axis.text.y = element_text(size = 12),     legend.position = \"none\"   )}\n{r} # Load necessary libraries library(tidyverse)  # Perform One-Way ANOVA anova_results &lt;- aov(LDL ~ marital_status, data = clean_data)  # Display ANOVA Summary summary(anova_results)  # Perform Tukey's Honest Significant Difference (HSD) Test tukey_results &lt;- TukeyHSD(anova_results, conf.level = 0.90)  # Display Tukey HSD Results print(tukey_results)}\nThe ANOVA results indicate a statistically significant difference in mean LDL levels across marital status groups (p &lt; 0.001). Post-hoc Tukey HSD tests reveal that individuals who are Never married have significantly lower mean LDL levels compared to both Married/Living with Partner and Widowed/Divorced/Separated groups, with p &lt; 0.01 for both comparisons.\n#Analysis 3: Create and analyze a 2×2 table\nResearch Question: Is there an association between obesity status (obese vs. non-obese) and males/females?\nNote: obesity is defined as BMI &gt;or=30.\nWe will use the following code (visualization first, then Chi Square):\n{r} # Load necessary libraries library(tidyverse)  # Create Stacked Bar Chart ggplot(clean_data, aes(x = gender, fill = obesity)) +   geom_bar(position = \"fill\", alpha = 0.8) +   scale_y_continuous(labels = scales::percent_format()) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Proportion of Obesity by Gender\",     x = \"Gender\",     y = \"Proportion\",     fill = \"Obesity Status\"   ) +   theme_minimal() +   theme(     plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),     axis.title = element_text(size = 14),     axis.text = element_text(size = 12),     legend.title = element_text(size = 12),     legend.text = element_text(size = 10)   )}\n{r} obesity_gender_table &lt;- table(clean_data$obesity, clean_data$gender)  # Convert the table to a data frame with percentages obesity_gender_df &lt;- as.data.frame(obesity_gender_table) %&gt;%   group_by(Var2) %&gt;%  # Group by gender   mutate(     Percentage = Freq / sum(Freq) * 100   )  # Display the table with counts and percentages obesity_gender_df %&gt;%   rename(     Obesity_Status = Var1,     Gender = Var2,     Count = Freq   ) %&gt;%   arrange(Gender, Obesity_Status)}\n{r} # Create a contingency table obesity_gender_table &lt;- table(clean_data$obesity, clean_data$gender)  # Perform Chi-Square Test chi_square_results &lt;- chisq.test(obesity_gender_table)  # Display Chi-Square Test Results print(chi_square_results)}\nThe Chi-Square test results indicate a statistically significant association between obesity status and gender (X² = 31.852, p &lt; 0.001). This suggests that the distribution of obesity differs significantly between males and females (females tend to have a higher prevalence of obesity)\n#Analysis 4: Create and analyze a J×K table, where 2≤J≤5 and 3≤K≤5\nResearch Question: Is there an association between race/ethnicity and marital status (3 levels)?\nWe will use the following code (visualization first, then Chi Square statistical testing):\n{r} # Load necessary libraries library(tidyverse)  # Create Stacked Bar Chart ggplot(clean_data, aes(x = race_ethnicity, fill = marital_status)) +   geom_bar(position = \"fill\", alpha = 0.8) +   scale_y_continuous(labels = scales::percent_format()) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Marital Status by Race/Ethnicity\",     x = \"Race/Ethnicity\",     y = \"Proportion\",     fill = \"Marital Status\"   ) +   theme_minimal() +   theme(     plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),     axis.title = element_text(size = 14),     axis.text.x = element_text(size = 10, angle = 25, hjust = 1),     axis.text.y = element_text(size = 12),     legend.title = element_text(size = 12),     legend.text = element_text(size = 10)   )}\n{r}  # Load necessary libraries library(tidyverse)  # Remove missing values clean_data &lt;- clean_data %&gt;%   filter(!race_ethnicity %in% c(\"77\", \"99\")) %&gt;%   filter(!marital_status %in% c(\"77\", \"99\"))  # Create Contingency Table race_marital_table &lt;- table(clean_data$race_ethnicity, clean_data$marital_status)  # Convert Table to Data Frame race_marital_df &lt;- as.data.frame(race_marital_table) %&gt;%   group_by(Var1) %&gt;%  # Group by race_ethnicity   mutate(     Percentage = Freq / sum(Freq) * 100   )  # Display the Table with Counts and Percentages race_marital_df %&gt;%   rename(     Race_Ethnicity = Var1,     Marital_Status = Var2,     Count = Freq   ) %&gt;%   arrange(Race_Ethnicity, Marital_Status) %&gt;%   mutate(     Percentage = paste0(round(Percentage, 2), \"%\")   )}\n{r} # Load necessary libraries library(tidyverse)  # Create Contingency Table race_marital_table &lt;- table(clean_data$race_ethnicity, clean_data$marital_status)  # Perform Chi-Square Test chi_square_results &lt;- chisq.test(race_marital_table)  # Display Results print(\"Chi-Square Test Results:\") print(chi_square_results)}\nThe Chi-Square test results (X² = 389.26, df = 8, p &lt; 0.001) indicate a statistically significant association between marital status and race/ethnicity. This suggests that marital status distribution varies meaningfully across different racial/ethnic groups."
  },
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Data Analysis",
    "section": "",
    "text": "This section will contain detailed analysis and visualizations related to Project B from the CRSP 431 Class.\n\nComing Soon\nStay tuned for updates as we progress with the project!"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "Hi! I’m Medhat Farwati, a CRSP student at Case Western Reserve University and a Cardiology Fellow at the Cleveland Clinic Main Campus.\nThis website is dedicated to showcasing my work in data analysis and research. I aim to use this platform to share insights, analyses, and findings, particularly those related to Project B and my professional endeavors.\nFeel free to connect with me to collaborate or learn more about my work!\nContact Information:\nEmail: farwatm@ccf.org\nMy X (Twitter) Profile\nMy LinkedIn Profile\nMy Google Scholar Profile"
  },
  {
    "objectID": "about.html#download-my-cv",
    "href": "about.html#download-my-cv",
    "title": "About Me",
    "section": "📄 Download My CV",
    "text": "📄 Download My CV\nClick here to download my CV"
  },
  {
    "objectID": "blog/Blog.html",
    "href": "blog/Blog.html",
    "title": "Building My Data Analysis Dashboard",
    "section": "",
    "text": "Building My Data Analysis Dashboard\nCreating a data analysis dashboard has been one of the most rewarding parts of my work. The goal was to design an interactive platform that presents key insights from Project B in a visually engaging and intuitive way. I built the dashboard using Quarto, R, and various data visualization libraries like ggplot2 and patchwork. This allowed me to integrate statistical models, data summaries, and interactive charts into a single, user-friendly interface.\nThe development process began with data cleaning and preparation using the NHANES dataset. After filtering and transforming variables of interest, I framed several hypotheses to test through the dashboard. These included examining how BMI predicts LDL cholesterol, adjusting for factors such as gender, marital status, and race/ethnicity. The dashboard was designed to allow users to explore these relationships through interactive filters and visual summaries.\nKey analyses performed included regression modeling, hypothesis testing, and data visualizations such as histograms, boxplots, and scatterplots. By embedding these interactive features, the dashboard enables users to explore the data in depth. While some hypotheses, like BMI’s effect on LDL cholesterol, yielded limited predictive power, the process provided valuable insights into the complexities of real-world health data.\nBuilding this dashboard was not just a technical challenge but also a creative endeavor. It combined my passion for research with an appreciation for design and storytelling through data. As I continue developing the dashboard, I hope it will serve as both a personal learning project and a useful tool for sharing research findings in a more accessible and engaging way. Stay tuned for future updates and enhancements!"
  },
  {
    "objectID": "Education_Training.html",
    "href": "Education_Training.html",
    "title": "Education & Training",
    "section": "",
    "text": "Year(s)\nDegree\nField of Study\nInstitution\n\n\n\n\n2009-2015\nM.D.\nMedicine\nUniversity of Aleppo, Aleppo, Syria\n\n\n\n\n\n\n\nIncludes Residency and Fellowship\n\n\n\n\n\n\n\n\n\nYear(s)\nTitle\nSpecialty/Discipline\nInstitution\n\n\n\n\n2024-present\nMaster’s Candidate\nMaster of Science (MSc)\nCase Western Reserve University, Cleveland, OH\n\n\n2022-present\nFellow\nCardiovascular Medicine\nCleveland Clinic Foundation, Cleveland, OH\n\n\n2019-2022\nResident\nInternal Medicine\nCleveland Clinic Foundation, Cleveland, OH\n\n\n2020\nClinical Scholar\nInternal Medicine\nCleveland Clinic Foundation, Cleveland, OH\n\n\n2019-2021\nResearch Collaborator\nCardiovascular Medicine\nMayo Clinic, Rochester, MN\n\n\n2018-2019\nResearch Fellow\nCardiovascular Medicine\nMayo Clinic, Rochester, MN\n\n\n2017-2018\nResearch Trainee\nCardiovascular Medicine\nMayo Clinic, Rochester, MN\n\n\n\n\n\n\n\n\n\n\nYear(s)\nLicense\n\n\n\n\n2021-present\nOhio State Medical License (MD)\n\n\n2022-present\nCertified in Internal Medicine"
  },
  {
    "objectID": "Education_Training.html#education",
    "href": "Education_Training.html#education",
    "title": "Education & Training",
    "section": "",
    "text": "Year(s)\nDegree\nField of Study\nInstitution\n\n\n\n\n2009-2015\nM.D.\nMedicine\nUniversity of Aleppo, Aleppo, Syria"
  },
  {
    "objectID": "Education_Training.html#postdoctoral-training",
    "href": "Education_Training.html#postdoctoral-training",
    "title": "Education & Training",
    "section": "",
    "text": "Includes Residency and Fellowship\n\n\n\n\n\n\n\n\n\nYear(s)\nTitle\nSpecialty/Discipline\nInstitution\n\n\n\n\n2024-present\nMaster’s Candidate\nMaster of Science (MSc)\nCase Western Reserve University, Cleveland, OH\n\n\n2022-present\nFellow\nCardiovascular Medicine\nCleveland Clinic Foundation, Cleveland, OH\n\n\n2019-2022\nResident\nInternal Medicine\nCleveland Clinic Foundation, Cleveland, OH\n\n\n2020\nClinical Scholar\nInternal Medicine\nCleveland Clinic Foundation, Cleveland, OH\n\n\n2019-2021\nResearch Collaborator\nCardiovascular Medicine\nMayo Clinic, Rochester, MN\n\n\n2018-2019\nResearch Fellow\nCardiovascular Medicine\nMayo Clinic, Rochester, MN\n\n\n2017-2018\nResearch Trainee\nCardiovascular Medicine\nMayo Clinic, Rochester, MN"
  },
  {
    "objectID": "Education_Training.html#current-licensure-board-certification",
    "href": "Education_Training.html#current-licensure-board-certification",
    "title": "Education & Training",
    "section": "",
    "text": "Year(s)\nLicense\n\n\n\n\n2021-present\nOhio State Medical License (MD)\n\n\n2022-present\nCertified in Internal Medicine"
  },
  {
    "objectID": "study 1 analyses.html",
    "href": "study 1 analyses.html",
    "title": "Overview",
    "section": "",
    "text": "This page presents key findings from our study analyses based on the NHANES dataset.\n\n\n\nlibrary(haven)\nlibrary(tidyverse)\nlibrary(broom)\n\n\nP_TRIGLY_data &lt;- read_xpt(\"C:/Users/medha/OneDrive/Desktop/CRSP 431/Project B/Dashboard Blog/P_TRIGLY.xpt\") %&gt;%\n  as_tibble()\n\n\n# Create 'data' directory if it doesn't exist\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(P_TRIGLY_data, \"data/P_TRIGLY.Rds\")\n\n\nldl_raw &lt;- readRDS(\"data/P_TRIGLY.Rds\")\n\n\nP_DEMO_data &lt;- read_xpt(\"C:/Users/medha/OneDrive/Desktop/CRSP 431/Project B/Dashboard Blog/P_DEMO.xpt\") %&gt;%\n  as_tibble()\n\n# Create 'data' directory if it doesn't exist\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(P_DEMO_data, \"data/P_DEMO.Rds\")\n\ndemo_raw &lt;- readRDS(\"data/P_DEMO.Rds\")\n\n\nP_BMX_data &lt;- read_xpt(\"C:/Users/medha/OneDrive/Desktop/CRSP 431/Project B/Dashboard Blog/P_BMX.xpt\") %&gt;%\n  as_tibble()\n\n# Create 'data' directory if it doesn't exist\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(P_BMX_data, \"data/P_BMX.Rds\")\n\nbmi_raw &lt;- readRDS(\"data/P_BMX.Rds\")\n\n\nNEW &lt;- left_join(demo_raw, ldl_raw, by = \"SEQN\")\n\n\nNEW2 &lt;- left_join(NEW, bmi_raw, by = \"SEQN\")\n\n\n# Rename the dataset\ncombined_data &lt;- NEW2\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter the dataset\ncombined_data &lt;- combined_data %&gt;%\n  filter(RIDSTATR == 2)\n\n# Save the filtered dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(combined_data, \"data/combined_data_filtered.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter out subjects with RIDAGEYR == 80 while keeping combined_data_filtered\ncombined_data &lt;- combined_data %&gt;%\n  filter(RIDAGEYR != 80)\n\n# Save the updated filtered dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(combined_data, \"data/combined_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter subjects aged between 21 and 79\ncombined_data &lt;- combined_data %&gt;%\n  filter(RIDAGEYR &gt;= 21 & RIDAGEYR &lt;= 79)\n\n# Save the updated filtered dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(combined_data, \"data/combined_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter subjects aged between 21 and 79 and rename to clean_data\nclean_data &lt;- combined_data%&gt;%\n  filter(RIDAGEYR &gt;= 21 & RIDAGEYR &lt;= 79)\n\n# Save the cleaned dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Keep only the specified variables\nclean_data &lt;- clean_data %&gt;%\n  select(SEQN, RIAGENDR, RIDRETH1, DMDMARTZ, LBDLDL, BMXBMI)\n\n# Save the updated dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\nclean_data &lt;- clean_data |&gt; \n  mutate(SEQN = as.character(SEQN))\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Keep only the specified variables\nclean_data &lt;- clean_data %&gt;%\n  select(SEQN, RIAGENDR, RIDRETH1, DMDMARTZ, LBDLDL, BMXBMI)\n\n# Save the updated dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Rename selected variables\nclean_data &lt;- clean_data %&gt;%\n  rename(\n    gender = RIAGENDR,\n    race_ethnicity = RIDRETH1,\n    marital_status = DMDMARTZ,\n    LDL = LBDLDL,\n    BMI = BMXBMI\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Create the obesity variable\nclean_data &lt;- clean_data %&gt;%\n  mutate(obesity = if_else(BMI &gt;= 30, 1, 0))\n\n# Save the updated dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\nclean_data &lt;- clean_data %&gt;%\n  mutate(\n    LDL = as.numeric(LDL),\n    BMI = as.numeric(BMI)\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Convert selected variables to factors\nclean_data &lt;- clean_data %&gt;%\n  mutate(across(\n    .cols = -c(SEQN, LDL, BMI),  # Exclude these columns\n    .fns = as.factor             # Convert remaining variables to factors\n  ))\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Recode variables\nclean_data &lt;- clean_data %&gt;%\n  mutate(\n    # Recode gender\n    gender = recode(gender, \n                    `1` = \"Male\", \n                    `2` = \"Female\"),\n    \n    # Recode race_ethnicity\n    race_ethnicity = recode(race_ethnicity, \n                            `1` = \"Mexican American\", \n                            `2` = \"Other Hispanic\",\n                            `3` = \"Non-Hispanic White\",\n                            `4` = \"Non-Hispanic Black\",\n                            `5` = \"Other Race\"),\n    \n    # Recode marital_status\n    marital_status = recode(marital_status, \n                            `1` = \"Married_Living with Partner\",\n                            `2` = \"Widowed_Divorced_Separated\",\n                            `3` = \"Never_married\")\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Recode obesity variable\nclean_data &lt;- clean_data %&gt;%\n  mutate(obesity = recode(obesity, \n                          `1` = \"Obese\", \n                          `0` = \"Non-obese\"))\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Filter out invalid values\nclean_data &lt;- clean_data %&gt;%\n  filter(!marital_status %in% c(\"77\", \"99\")) %&gt;%\n  filter(!race_ethnicity %in% c(\"77\", \"99\")) %&gt;%\n  mutate(\n    marital_status = droplevels(marital_status),\n    race_ethnicity = droplevels(race_ethnicity)\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# View summary of the dataset\nsummary(clean_data)\n\n     SEQN              gender                race_ethnicity\n Length:7846        Male  :3792   Mexican American  : 945  \n Class :character   Female:4054   Other Hispanic    : 847  \n Mode  :character                 Non-Hispanic White:2491  \n                                  Non-Hispanic Black:2175  \n                                  Other Race        :1388  \n                                                           \n                                                           \n                     marital_status      LDL             BMI       \n Married_Living with Partner:4645   Min.   :  7.0   Min.   :14.60  \n Widowed_Divorced_Separated :1648   1st Qu.: 85.0   1st Qu.:25.00  \n Never_married              :1553   Median :106.0   Median :28.90  \n                                    Mean   :109.5   Mean   :30.24  \n                                    3rd Qu.:130.0   3rd Qu.:34.00  \n                                    Max.   :357.0   Max.   :92.30  \n                                    NA's   :4248    NA's   :117    \n      obesity    \n Non-obese:4340  \n Obese    :3389  \n NA's     : 117  \n                 \n                 \n                 \n                 \n\n\n\nclean_data &lt;- readRDS(\"data/clean_data.Rds\")\n\n\n\n\nResearch Question: Is there a difference in mean LDL-C between males and females?\nWe will use the following code (graph first, then t-test):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Boxplot with Smaller and More Subtle Dots\nggplot(clean_data, aes(x = gender, y = LDL, fill = gender)) +\n  geom_boxplot(alpha = 0.7, outlier.color = \"red\", outlier.size = 2) +\n  geom_jitter(aes(color = gender), width = 0.1, alpha = 0.2, size = 1) +\n  scale_fill_brewer(palette = \"Set2\") +\n  scale_color_brewer(palette = \"Set2\") +\n  labs(\n    title = \"LDL Cholesterol by Gender\",\n    x = \"Gender\",\n    y = \"LDL Cholesterol (mg/dL)\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text.x = element_text(size = 12),\n    axis.text.y = element_text(size = 12),\n    legend.position = \"none\"\n  )\n\nWarning: Removed 4248 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\nWarning: Removed 4248 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n# Descriptive Summary by Gender\nsummary_stats &lt;- clean_data %&gt;%\n  group_by(gender) %&gt;%\n  summarise(\n    mean_LDL = mean(LDL, na.rm = TRUE),\n    sd_LDL = sd(LDL, na.rm = TRUE),\n    median_LDL = median(LDL, na.rm = TRUE),\n    n = n()\n  )\nprint(summary_stats)\n\n# A tibble: 2 × 5\n  gender mean_LDL sd_LDL median_LDL     n\n  &lt;fct&gt;     &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt; &lt;int&gt;\n1 Male       109.   35.8        106  3792\n2 Female     110.   35.5        107  4054\n\n# Perform Independent Samples t-test with 90% CI\nt_test_results &lt;- t.test(LDL ~ gender, data = clean_data, \n                         var.equal = FALSE, conf.level = 0.90)\n\n# Print t-test Results\nprint(t_test_results)\n\n\n    Welch Two Sample t-test\n\ndata:  LDL by gender\nt = -0.45112, df = 3567.9, p-value = 0.6519\nalternative hypothesis: true difference in means between group Male and group Female is not equal to 0\n90 percent confidence interval:\n -2.495289  1.421373\nsample estimates:\n  mean in group Male mean in group Female \n            109.2247             109.7616 \n\n# Extract and Print the 90% Confidence Interval\nconf_interval &lt;- t_test_results$conf.int\nmessage(\"90% Confidence Interval for the Difference in Means: \", \n        round(conf_interval[1], 2), \" to \", round(conf_interval[2], 2))\n\n90% Confidence Interval for the Difference in Means: -2.5 to 1.42\n\n\nAs we can see from the graph and t-test, there is no significant difference in mean LDL between males and females.\n\n\n\nResearch Question: Is there a difference in mean LDL-C according to marital status?\nWe will use the following code (graph first, then ANOVA):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Boxplot with Smaller and More Subtle Dots\nggplot(clean_data, aes(x = marital_status, y = LDL, fill = marital_status)) +\n  geom_boxplot(alpha = 0.7, outlier.color = \"red\", outlier.size = 2) +\n  geom_jitter(aes(color = marital_status), width = 0.1, alpha = 0.2, size = 1) +\n  scale_fill_brewer(palette = \"Set2\") +\n  scale_color_brewer(palette = \"Set2\") +\n  labs(\n    title = \"LDL Cholesterol by Marital Status\",\n    x = \"Marital Status\",\n    y = \"LDL Cholesterol (mg/dL)\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text.x = element_text(size = 10, angle = 25, hjust = 1),\n    axis.text.y = element_text(size = 12),\n    legend.position = \"none\"\n  )\n\n\n\n\n\n\n\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Perform One-Way ANOVA\nanova_results &lt;- aov(LDL ~ marital_status, data = clean_data)\n\n# Display ANOVA Summary\nsummary(anova_results)\n\n                 Df  Sum Sq Mean Sq F value   Pr(&gt;F)    \nmarital_status    2   18294    9147   7.221 0.000742 ***\nResiduals      3595 4554093    1267                     \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n4248 observations deleted due to missingness\n\n# Perform Tukey's Honest Significant Difference (HSD) Test\ntukey_results &lt;- TukeyHSD(anova_results, conf.level = 0.90)\n\n# Display Tukey HSD Results\nprint(tukey_results)\n\n  Tukey multiple comparisons of means\n    90% family-wise confidence level\n\nFit: aov(formula = LDL ~ marital_status, data = clean_data)\n\n$marital_status\n                                                            diff        lwr\nWidowed_Divorced_Separated-Married_Living with Partner  0.778988  -2.317805\nNever_married-Married_Living with Partner              -5.457317  -8.645255\nNever_married-Widowed_Divorced_Separated               -6.236305 -10.082236\n                                                             upr     p adj\nWidowed_Divorced_Separated-Married_Living with Partner  3.875781 0.8633450\nNever_married-Married_Living with Partner              -2.269378 0.0012966\nNever_married-Widowed_Divorced_Separated               -2.390374 0.0025354\n\n\nThe ANOVA results indicate a statistically significant difference in mean LDL levels across marital status groups (p &lt; 0.001). Post-hoc Tukey HSD tests reveal that individuals who are Never married have significantly lower mean LDL levels compared to both Married/Living with Partner and Widowed/Divorced/Separated groups, with p &lt; 0.01 for both comparisons.\n\n\n\nResearch Question: Is there an association between obesity status (obese vs. non-obese) and males/females?\nNote: obesity is defined as BMI &gt;or=30.\nWe will use the following code (visualization first, then Chi Square):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Stacked Bar Chart\nggplot(clean_data, aes(x = gender, fill = obesity)) +\n  geom_bar(position = \"fill\", alpha = 0.8) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Proportion of Obesity by Gender\",\n    x = \"Gender\",\n    y = \"Proportion\",\n    fill = \"Obesity Status\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text = element_text(size = 12),\n    legend.title = element_text(size = 12),\n    legend.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\n\nobesity_gender_table &lt;- table(clean_data$obesity, clean_data$gender)\n\n# Convert the table to a data frame with percentages\nobesity_gender_df &lt;- as.data.frame(obesity_gender_table) %&gt;%\n  group_by(Var2) %&gt;%  # Group by gender\n  mutate(\n    Percentage = Freq / sum(Freq) * 100\n  )\n\n# Display the table with counts and percentages\nobesity_gender_df %&gt;%\n  rename(\n    Obesity_Status = Var1,\n    Gender = Var2,\n    Count = Freq\n  ) %&gt;%\n  arrange(Gender, Obesity_Status)\n\n# A tibble: 4 × 4\n# Groups:   Gender [2]\n  Obesity_Status Gender Count Percentage\n  &lt;fct&gt;          &lt;fct&gt;  &lt;int&gt;      &lt;dbl&gt;\n1 Non-obese      Male    2218       59.5\n2 Obese          Male    1512       40.5\n3 Non-obese      Female  2122       53.1\n4 Obese          Female  1877       46.9\n\n\n\n# Create a contingency table\nobesity_gender_table &lt;- table(clean_data$obesity, clean_data$gender)\n\n# Perform Chi-Square Test\nchi_square_results &lt;- chisq.test(obesity_gender_table)\n\n# Display Chi-Square Test Results\nprint(chi_square_results)\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  obesity_gender_table\nX-squared = 31.852, df = 1, p-value = 1.664e-08\n\n\nThe Chi-Square test results indicate a statistically significant association between obesity status and gender (X² = 31.852, p &lt; 0.001). This suggests that the distribution of obesity differs significantly between males and females (females tend to have a higher prevalence of obesity)\n\n\n\nResearch Question: Is there an association between race/ethnicity and marital status (3 levels)?\nWe will use the following code (visualization first, then Chi Square statistical testing):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Stacked Bar Chart\nggplot(clean_data, aes(x = race_ethnicity, fill = marital_status)) +\n  geom_bar(position = \"fill\", alpha = 0.8) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Marital Status by Race/Ethnicity\",\n    x = \"Race/Ethnicity\",\n    y = \"Proportion\",\n    fill = \"Marital Status\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text.x = element_text(size = 10, angle = 25, hjust = 1),\n    axis.text.y = element_text(size = 12),\n    legend.title = element_text(size = 12),\n    legend.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Remove missing values\nclean_data &lt;- clean_data %&gt;%\n  filter(!race_ethnicity %in% c(\"77\", \"99\")) %&gt;%\n  filter(!marital_status %in% c(\"77\", \"99\"))\n\n# Create Contingency Table\nrace_marital_table &lt;- table(clean_data$race_ethnicity, clean_data$marital_status)\n\n# Convert Table to Data Frame\nrace_marital_df &lt;- as.data.frame(race_marital_table) %&gt;%\n  group_by(Var1) %&gt;%  # Group by race_ethnicity\n  mutate(\n    Percentage = Freq / sum(Freq) * 100\n  )\n\n# Display the Table with Counts and Percentages\nrace_marital_df %&gt;%\n  rename(\n    Race_Ethnicity = Var1,\n    Marital_Status = Var2,\n    Count = Freq\n  ) %&gt;%\n  arrange(Race_Ethnicity, Marital_Status) %&gt;%\n  mutate(\n    Percentage = paste0(round(Percentage, 2), \"%\")\n  )\n\n# A tibble: 15 × 4\n# Groups:   Race_Ethnicity [5]\n   Race_Ethnicity     Marital_Status              Count Percentage\n   &lt;fct&gt;              &lt;fct&gt;                       &lt;int&gt; &lt;chr&gt;     \n 1 Mexican American   Married_Living with Partner   628 66.46%    \n 2 Mexican American   Widowed_Divorced_Separated    171 18.1%     \n 3 Mexican American   Never_married                 146 15.45%    \n 4 Other Hispanic     Married_Living with Partner   520 61.39%    \n 5 Other Hispanic     Widowed_Divorced_Separated    185 21.84%    \n 6 Other Hispanic     Never_married                 142 16.77%    \n 7 Non-Hispanic White Married_Living with Partner  1573 63.15%    \n 8 Non-Hispanic White Widowed_Divorced_Separated    548 22%       \n 9 Non-Hispanic White Never_married                 370 14.85%    \n10 Non-Hispanic Black Married_Living with Partner   945 43.45%    \n11 Non-Hispanic Black Widowed_Divorced_Separated    572 26.3%     \n12 Non-Hispanic Black Never_married                 658 30.25%    \n13 Other Race         Married_Living with Partner   979 70.53%    \n14 Other Race         Widowed_Divorced_Separated    172 12.39%    \n15 Other Race         Never_married                 237 17.07%    \n\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Contingency Table\nrace_marital_table &lt;- table(clean_data$race_ethnicity, clean_data$marital_status)\n\n# Perform Chi-Square Test\nchi_square_results &lt;- chisq.test(race_marital_table)\n\n# Display Results\nprint(\"Chi-Square Test Results:\")\n\n[1] \"Chi-Square Test Results:\"\n\nprint(chi_square_results)\n\n\n    Pearson's Chi-squared test\n\ndata:  race_marital_table\nX-squared = 389.26, df = 8, p-value &lt; 2.2e-16\n\n\nThe Chi-Square test results (X² = 389.26, df = 8, p &lt; 0.001) indicate a statistically significant association between marital status and race/ethnicity. This suggests that marital status distribution varies meaningfully across different racial/ethnic groups.\n#CODEBOOK\n\n\n\nVariable\nOld Name\nDescription\n\n\n\n\nSEQN\nSEQN\nID\n\n\ngender\nRIAGENDER\nMale/Female\n\n\nrace_ethnicity\nRIDRETH1\n5 levels\n\n\nmarital_status\nDMDMARTZ\n3 levels\n\n\nLDL\nLBDLDL\nLDL-Cholesterol in mg/dl\n\n\nBMI\nBMXBMI\nBody mass index kg/m2\n\n\nobesity\n-\nDefined as BMI &gt;or = 30"
  },
  {
    "objectID": "study 1 analyses.html#a.-data-cleaning-and-preparation",
    "href": "study 1 analyses.html#a.-data-cleaning-and-preparation",
    "title": "Overview",
    "section": "",
    "text": "library(haven)\nlibrary(tidyverse)\nlibrary(broom)\n\n\nP_TRIGLY_data &lt;- read_xpt(\"C:/Users/medha/OneDrive/Desktop/CRSP 431/Project B/Dashboard Blog/P_TRIGLY.xpt\") %&gt;%\n  as_tibble()\n\n\n# Create 'data' directory if it doesn't exist\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(P_TRIGLY_data, \"data/P_TRIGLY.Rds\")\n\n\nldl_raw &lt;- readRDS(\"data/P_TRIGLY.Rds\")\n\n\nP_DEMO_data &lt;- read_xpt(\"C:/Users/medha/OneDrive/Desktop/CRSP 431/Project B/Dashboard Blog/P_DEMO.xpt\") %&gt;%\n  as_tibble()\n\n# Create 'data' directory if it doesn't exist\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(P_DEMO_data, \"data/P_DEMO.Rds\")\n\ndemo_raw &lt;- readRDS(\"data/P_DEMO.Rds\")\n\n\nP_BMX_data &lt;- read_xpt(\"C:/Users/medha/OneDrive/Desktop/CRSP 431/Project B/Dashboard Blog/P_BMX.xpt\") %&gt;%\n  as_tibble()\n\n# Create 'data' directory if it doesn't exist\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(P_BMX_data, \"data/P_BMX.Rds\")\n\nbmi_raw &lt;- readRDS(\"data/P_BMX.Rds\")\n\n\nNEW &lt;- left_join(demo_raw, ldl_raw, by = \"SEQN\")\n\n\nNEW2 &lt;- left_join(NEW, bmi_raw, by = \"SEQN\")\n\n\n# Rename the dataset\ncombined_data &lt;- NEW2\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter the dataset\ncombined_data &lt;- combined_data %&gt;%\n  filter(RIDSTATR == 2)\n\n# Save the filtered dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(combined_data, \"data/combined_data_filtered.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter out subjects with RIDAGEYR == 80 while keeping combined_data_filtered\ncombined_data &lt;- combined_data %&gt;%\n  filter(RIDAGEYR != 80)\n\n# Save the updated filtered dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(combined_data, \"data/combined_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter subjects aged between 21 and 79\ncombined_data &lt;- combined_data %&gt;%\n  filter(RIDAGEYR &gt;= 21 & RIDAGEYR &lt;= 79)\n\n# Save the updated filtered dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(combined_data, \"data/combined_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Filter subjects aged between 21 and 79 and rename to clean_data\nclean_data &lt;- combined_data%&gt;%\n  filter(RIDAGEYR &gt;= 21 & RIDAGEYR &lt;= 79)\n\n# Save the cleaned dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Keep only the specified variables\nclean_data &lt;- clean_data %&gt;%\n  select(SEQN, RIAGENDR, RIDRETH1, DMDMARTZ, LBDLDL, BMXBMI)\n\n# Save the updated dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\nclean_data &lt;- clean_data |&gt; \n  mutate(SEQN = as.character(SEQN))\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Keep only the specified variables\nclean_data &lt;- clean_data %&gt;%\n  select(SEQN, RIAGENDR, RIDRETH1, DMDMARTZ, LBDLDL, BMXBMI)\n\n# Save the updated dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Rename selected variables\nclean_data &lt;- clean_data %&gt;%\n  rename(\n    gender = RIAGENDR,\n    race_ethnicity = RIDRETH1,\n    marital_status = DMDMARTZ,\n    LDL = LBDLDL,\n    BMI = BMXBMI\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Create the obesity variable\nclean_data &lt;- clean_data %&gt;%\n  mutate(obesity = if_else(BMI &gt;= 30, 1, 0))\n\n# Save the updated dataset\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\nclean_data &lt;- clean_data %&gt;%\n  mutate(\n    LDL = as.numeric(LDL),\n    BMI = as.numeric(BMI)\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Convert selected variables to factors\nclean_data &lt;- clean_data %&gt;%\n  mutate(across(\n    .cols = -c(SEQN, LDL, BMI),  # Exclude these columns\n    .fns = as.factor             # Convert remaining variables to factors\n  ))\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Recode variables\nclean_data &lt;- clean_data %&gt;%\n  mutate(\n    # Recode gender\n    gender = recode(gender, \n                    `1` = \"Male\", \n                    `2` = \"Female\"),\n    \n    # Recode race_ethnicity\n    race_ethnicity = recode(race_ethnicity, \n                            `1` = \"Mexican American\", \n                            `2` = \"Other Hispanic\",\n                            `3` = \"Non-Hispanic White\",\n                            `4` = \"Non-Hispanic Black\",\n                            `5` = \"Other Race\"),\n    \n    # Recode marital_status\n    marital_status = recode(marital_status, \n                            `1` = \"Married_Living with Partner\",\n                            `2` = \"Widowed_Divorced_Separated\",\n                            `3` = \"Never_married\")\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Recode obesity variable\nclean_data &lt;- clean_data %&gt;%\n  mutate(obesity = recode(obesity, \n                          `1` = \"Obese\", \n                          `0` = \"Non-obese\"))\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# Filter out invalid values\nclean_data &lt;- clean_data %&gt;%\n  filter(!marital_status %in% c(\"77\", \"99\")) %&gt;%\n  filter(!race_ethnicity %in% c(\"77\", \"99\")) %&gt;%\n  mutate(\n    marital_status = droplevels(marital_status),\n    race_ethnicity = droplevels(race_ethnicity)\n  )\n\n# Save the updated dataset as RDS\nif (!dir.exists(\"data\")) {\n  dir.create(\"data\")\n}\n\nsaveRDS(clean_data, \"data/clean_data.Rds\")\n\n\n# View summary of the dataset\nsummary(clean_data)\n\n     SEQN              gender                race_ethnicity\n Length:7846        Male  :3792   Mexican American  : 945  \n Class :character   Female:4054   Other Hispanic    : 847  \n Mode  :character                 Non-Hispanic White:2491  \n                                  Non-Hispanic Black:2175  \n                                  Other Race        :1388  \n                                                           \n                                                           \n                     marital_status      LDL             BMI       \n Married_Living with Partner:4645   Min.   :  7.0   Min.   :14.60  \n Widowed_Divorced_Separated :1648   1st Qu.: 85.0   1st Qu.:25.00  \n Never_married              :1553   Median :106.0   Median :28.90  \n                                    Mean   :109.5   Mean   :30.24  \n                                    3rd Qu.:130.0   3rd Qu.:34.00  \n                                    Max.   :357.0   Max.   :92.30  \n                                    NA's   :4248    NA's   :117    \n      obesity    \n Non-obese:4340  \n Obese    :3389  \n NA's     : 117  \n                 \n                 \n                 \n                 \n\n\n\nclean_data &lt;- readRDS(\"data/clean_data.Rds\")"
  },
  {
    "objectID": "study 1 analyses.html#b.-analysis-1-compare-two-meansmedians-using-independent-samples",
    "href": "study 1 analyses.html#b.-analysis-1-compare-two-meansmedians-using-independent-samples",
    "title": "Overview",
    "section": "",
    "text": "Research Question: Is there a difference in mean LDL-C between males and females?\nWe will use the following code (graph first, then t-test):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Boxplot with Smaller and More Subtle Dots\nggplot(clean_data, aes(x = gender, y = LDL, fill = gender)) +\n  geom_boxplot(alpha = 0.7, outlier.color = \"red\", outlier.size = 2) +\n  geom_jitter(aes(color = gender), width = 0.1, alpha = 0.2, size = 1) +\n  scale_fill_brewer(palette = \"Set2\") +\n  scale_color_brewer(palette = \"Set2\") +\n  labs(\n    title = \"LDL Cholesterol by Gender\",\n    x = \"Gender\",\n    y = \"LDL Cholesterol (mg/dL)\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text.x = element_text(size = 12),\n    axis.text.y = element_text(size = 12),\n    legend.position = \"none\"\n  )\n\nWarning: Removed 4248 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\nWarning: Removed 4248 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n# Descriptive Summary by Gender\nsummary_stats &lt;- clean_data %&gt;%\n  group_by(gender) %&gt;%\n  summarise(\n    mean_LDL = mean(LDL, na.rm = TRUE),\n    sd_LDL = sd(LDL, na.rm = TRUE),\n    median_LDL = median(LDL, na.rm = TRUE),\n    n = n()\n  )\nprint(summary_stats)\n\n# A tibble: 2 × 5\n  gender mean_LDL sd_LDL median_LDL     n\n  &lt;fct&gt;     &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt; &lt;int&gt;\n1 Male       109.   35.8        106  3792\n2 Female     110.   35.5        107  4054\n\n# Perform Independent Samples t-test with 90% CI\nt_test_results &lt;- t.test(LDL ~ gender, data = clean_data, \n                         var.equal = FALSE, conf.level = 0.90)\n\n# Print t-test Results\nprint(t_test_results)\n\n\n    Welch Two Sample t-test\n\ndata:  LDL by gender\nt = -0.45112, df = 3567.9, p-value = 0.6519\nalternative hypothesis: true difference in means between group Male and group Female is not equal to 0\n90 percent confidence interval:\n -2.495289  1.421373\nsample estimates:\n  mean in group Male mean in group Female \n            109.2247             109.7616 \n\n# Extract and Print the 90% Confidence Interval\nconf_interval &lt;- t_test_results$conf.int\nmessage(\"90% Confidence Interval for the Difference in Means: \", \n        round(conf_interval[1], 2), \" to \", round(conf_interval[2], 2))\n\n90% Confidence Interval for the Difference in Means: -2.5 to 1.42\n\n\nAs we can see from the graph and t-test, there is no significant difference in mean LDL between males and females."
  },
  {
    "objectID": "study 1 analyses.html#c.-analysis-2-compare-3-6-meansmedians-using-independent-samples",
    "href": "study 1 analyses.html#c.-analysis-2-compare-3-6-meansmedians-using-independent-samples",
    "title": "Overview",
    "section": "",
    "text": "Research Question: Is there a difference in mean LDL-C according to marital status?\nWe will use the following code (graph first, then ANOVA):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Boxplot with Smaller and More Subtle Dots\nggplot(clean_data, aes(x = marital_status, y = LDL, fill = marital_status)) +\n  geom_boxplot(alpha = 0.7, outlier.color = \"red\", outlier.size = 2) +\n  geom_jitter(aes(color = marital_status), width = 0.1, alpha = 0.2, size = 1) +\n  scale_fill_brewer(palette = \"Set2\") +\n  scale_color_brewer(palette = \"Set2\") +\n  labs(\n    title = \"LDL Cholesterol by Marital Status\",\n    x = \"Marital Status\",\n    y = \"LDL Cholesterol (mg/dL)\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text.x = element_text(size = 10, angle = 25, hjust = 1),\n    axis.text.y = element_text(size = 12),\n    legend.position = \"none\"\n  )\n\n\n\n\n\n\n\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Perform One-Way ANOVA\nanova_results &lt;- aov(LDL ~ marital_status, data = clean_data)\n\n# Display ANOVA Summary\nsummary(anova_results)\n\n                 Df  Sum Sq Mean Sq F value   Pr(&gt;F)    \nmarital_status    2   18294    9147   7.221 0.000742 ***\nResiduals      3595 4554093    1267                     \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n4248 observations deleted due to missingness\n\n# Perform Tukey's Honest Significant Difference (HSD) Test\ntukey_results &lt;- TukeyHSD(anova_results, conf.level = 0.90)\n\n# Display Tukey HSD Results\nprint(tukey_results)\n\n  Tukey multiple comparisons of means\n    90% family-wise confidence level\n\nFit: aov(formula = LDL ~ marital_status, data = clean_data)\n\n$marital_status\n                                                            diff        lwr\nWidowed_Divorced_Separated-Married_Living with Partner  0.778988  -2.317805\nNever_married-Married_Living with Partner              -5.457317  -8.645255\nNever_married-Widowed_Divorced_Separated               -6.236305 -10.082236\n                                                             upr     p adj\nWidowed_Divorced_Separated-Married_Living with Partner  3.875781 0.8633450\nNever_married-Married_Living with Partner              -2.269378 0.0012966\nNever_married-Widowed_Divorced_Separated               -2.390374 0.0025354\n\n\nThe ANOVA results indicate a statistically significant difference in mean LDL levels across marital status groups (p &lt; 0.001). Post-hoc Tukey HSD tests reveal that individuals who are Never married have significantly lower mean LDL levels compared to both Married/Living with Partner and Widowed/Divorced/Separated groups, with p &lt; 0.01 for both comparisons."
  },
  {
    "objectID": "study 1 analyses.html#d.-analysis-3-create-and-analyze-a-22-table",
    "href": "study 1 analyses.html#d.-analysis-3-create-and-analyze-a-22-table",
    "title": "Overview",
    "section": "",
    "text": "Research Question: Is there an association between obesity status (obese vs. non-obese) and males/females?\nNote: obesity is defined as BMI &gt;or=30.\nWe will use the following code (visualization first, then Chi Square):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Stacked Bar Chart\nggplot(clean_data, aes(x = gender, fill = obesity)) +\n  geom_bar(position = \"fill\", alpha = 0.8) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Proportion of Obesity by Gender\",\n    x = \"Gender\",\n    y = \"Proportion\",\n    fill = \"Obesity Status\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text = element_text(size = 12),\n    legend.title = element_text(size = 12),\n    legend.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\n\nobesity_gender_table &lt;- table(clean_data$obesity, clean_data$gender)\n\n# Convert the table to a data frame with percentages\nobesity_gender_df &lt;- as.data.frame(obesity_gender_table) %&gt;%\n  group_by(Var2) %&gt;%  # Group by gender\n  mutate(\n    Percentage = Freq / sum(Freq) * 100\n  )\n\n# Display the table with counts and percentages\nobesity_gender_df %&gt;%\n  rename(\n    Obesity_Status = Var1,\n    Gender = Var2,\n    Count = Freq\n  ) %&gt;%\n  arrange(Gender, Obesity_Status)\n\n# A tibble: 4 × 4\n# Groups:   Gender [2]\n  Obesity_Status Gender Count Percentage\n  &lt;fct&gt;          &lt;fct&gt;  &lt;int&gt;      &lt;dbl&gt;\n1 Non-obese      Male    2218       59.5\n2 Obese          Male    1512       40.5\n3 Non-obese      Female  2122       53.1\n4 Obese          Female  1877       46.9\n\n\n\n# Create a contingency table\nobesity_gender_table &lt;- table(clean_data$obesity, clean_data$gender)\n\n# Perform Chi-Square Test\nchi_square_results &lt;- chisq.test(obesity_gender_table)\n\n# Display Chi-Square Test Results\nprint(chi_square_results)\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  obesity_gender_table\nX-squared = 31.852, df = 1, p-value = 1.664e-08\n\n\nThe Chi-Square test results indicate a statistically significant association between obesity status and gender (X² = 31.852, p &lt; 0.001). This suggests that the distribution of obesity differs significantly between males and females (females tend to have a higher prevalence of obesity)"
  },
  {
    "objectID": "study 1 analyses.html#e.-analysis-4-create-and-analyze-a-jk-table-where-2j5-and-3k5",
    "href": "study 1 analyses.html#e.-analysis-4-create-and-analyze-a-jk-table-where-2j5-and-3k5",
    "title": "Overview",
    "section": "",
    "text": "Research Question: Is there an association between race/ethnicity and marital status (3 levels)?\nWe will use the following code (visualization first, then Chi Square statistical testing):\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Stacked Bar Chart\nggplot(clean_data, aes(x = race_ethnicity, fill = marital_status)) +\n  geom_bar(position = \"fill\", alpha = 0.8) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Marital Status by Race/Ethnicity\",\n    x = \"Race/Ethnicity\",\n    y = \"Proportion\",\n    fill = \"Marital Status\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    axis.title = element_text(size = 14),\n    axis.text.x = element_text(size = 10, angle = 25, hjust = 1),\n    axis.text.y = element_text(size = 12),\n    legend.title = element_text(size = 12),\n    legend.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Remove missing values\nclean_data &lt;- clean_data %&gt;%\n  filter(!race_ethnicity %in% c(\"77\", \"99\")) %&gt;%\n  filter(!marital_status %in% c(\"77\", \"99\"))\n\n# Create Contingency Table\nrace_marital_table &lt;- table(clean_data$race_ethnicity, clean_data$marital_status)\n\n# Convert Table to Data Frame\nrace_marital_df &lt;- as.data.frame(race_marital_table) %&gt;%\n  group_by(Var1) %&gt;%  # Group by race_ethnicity\n  mutate(\n    Percentage = Freq / sum(Freq) * 100\n  )\n\n# Display the Table with Counts and Percentages\nrace_marital_df %&gt;%\n  rename(\n    Race_Ethnicity = Var1,\n    Marital_Status = Var2,\n    Count = Freq\n  ) %&gt;%\n  arrange(Race_Ethnicity, Marital_Status) %&gt;%\n  mutate(\n    Percentage = paste0(round(Percentage, 2), \"%\")\n  )\n\n# A tibble: 15 × 4\n# Groups:   Race_Ethnicity [5]\n   Race_Ethnicity     Marital_Status              Count Percentage\n   &lt;fct&gt;              &lt;fct&gt;                       &lt;int&gt; &lt;chr&gt;     \n 1 Mexican American   Married_Living with Partner   628 66.46%    \n 2 Mexican American   Widowed_Divorced_Separated    171 18.1%     \n 3 Mexican American   Never_married                 146 15.45%    \n 4 Other Hispanic     Married_Living with Partner   520 61.39%    \n 5 Other Hispanic     Widowed_Divorced_Separated    185 21.84%    \n 6 Other Hispanic     Never_married                 142 16.77%    \n 7 Non-Hispanic White Married_Living with Partner  1573 63.15%    \n 8 Non-Hispanic White Widowed_Divorced_Separated    548 22%       \n 9 Non-Hispanic White Never_married                 370 14.85%    \n10 Non-Hispanic Black Married_Living with Partner   945 43.45%    \n11 Non-Hispanic Black Widowed_Divorced_Separated    572 26.3%     \n12 Non-Hispanic Black Never_married                 658 30.25%    \n13 Other Race         Married_Living with Partner   979 70.53%    \n14 Other Race         Widowed_Divorced_Separated    172 12.39%    \n15 Other Race         Never_married                 237 17.07%    \n\n\n\n# Load necessary libraries\nlibrary(tidyverse)\n\n# Create Contingency Table\nrace_marital_table &lt;- table(clean_data$race_ethnicity, clean_data$marital_status)\n\n# Perform Chi-Square Test\nchi_square_results &lt;- chisq.test(race_marital_table)\n\n# Display Results\nprint(\"Chi-Square Test Results:\")\n\n[1] \"Chi-Square Test Results:\"\n\nprint(chi_square_results)\n\n\n    Pearson's Chi-squared test\n\ndata:  race_marital_table\nX-squared = 389.26, df = 8, p-value &lt; 2.2e-16\n\n\nThe Chi-Square test results (X² = 389.26, df = 8, p &lt; 0.001) indicate a statistically significant association between marital status and race/ethnicity. This suggests that marital status distribution varies meaningfully across different racial/ethnic groups.\n#CODEBOOK\n\n\n\nVariable\nOld Name\nDescription\n\n\n\n\nSEQN\nSEQN\nID\n\n\ngender\nRIAGENDER\nMale/Female\n\n\nrace_ethnicity\nRIDRETH1\n5 levels\n\n\nmarital_status\nDMDMARTZ\n3 levels\n\n\nLDL\nLBDLDL\nLDL-Cholesterol in mg/dl\n\n\nBMI\nBMXBMI\nBody mass index kg/m2\n\n\nobesity\n-\nDefined as BMI &gt;or = 30"
  }
]